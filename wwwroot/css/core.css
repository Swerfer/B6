/* ---------- BRAND COLOURS ---------- */
:root{
  --header-h:       3.5rem;                       /* header height – adjust if you resize the header */
  --footer-h:       3.5rem;                       /* footer height – adjust if you resize the footer */
  --mini-label-w:   5rem;                         /* mini label minimum width desktop */
  --mini-label-w-m: 4rem;                         /* mini label minimum width mobile */
  --kv-label-w:     8.5rem;                       /* label width for 2 columns at mission details */
  --card-grid-gap:  1rem;                         /* gap between 2 cards in a mission list */

  --black:                        #000000;
  --eerie-black:                  #111111;
  --abyss-navy-deep:              #0b0d12;
  --oxford-deep-blue:             #001e38;
  --indigo-dye:                   #0e2235;
  --deep-space-blue:              #0f2b45;
  --dark-cerulean:                #0e304c;
  --deep-slate-blue:              #1a3a56;
  --blue-sapphire:                #145a83;
  --cyan:                         #00C0F0;
  --blueish:                      #1dbdf5;
  --light-maya-blue:              #9fd0ff;
  --amber:                        #ffc107;
  --pale-maize:                   #f9e79f;
  --white:                        #ffffff;
  --cyan-25-percent:              rgba(0,255,255,0.25);

  /* accent hues used by showAlert() */
  --info:                         #17a2b8;    /* Tiffany Blue / Verdigris */
  --success:                      #28a745;    /* Jade / Emerald Green */
  --warning:                      #ffc107;    /* Amber */
  --error:                        #dc3545;    /* Crimson / Imperial Red */
}

/* ---------- GLOBAL RESET & LAYOUT ---------- */
* { box-sizing:border-box; margin:0; padding:0; }

html,body { 
  height:100%; 
  min-width:360px;
}

.inner{
  max-width:1200px; 
  margin:0 auto; 
  width:100%; 
  padding:0 16px;
  display:flex; 
  align-items:center; 
  justify-content:center; 
  height:44px;
}

/* ---------- HEADER ---------- */
.app-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-h);        /* ← this is the key */
  background: var(--abyss-navy-deep);
  z-index: 100;
  display: flex;
  align-items: center;            /* vertically center text */
}

.app-header .inner {
  flex-direction: column;
}

.brand-line{
  font-size:clamp(22px,4vw,32px);    /* larger ceiling */
  font-weight:700; 
  color:var(--white); 
  white-space:nowrap; 
  line-height:1;
  margin-top: 4px;
  margin-bottom: 0;
}

/* ---------- MAIN ---------- */
.subtitle{
  margin-top: -2px;
  color:var(--blueish);
  font-size:smaller;
}

.app-main{                     
  flex:1 1 auto; 
  width:100%;
  padding-top:44px;          /* same number as .inner height */
  padding-bottom:44px;
  overflow-y:auto;
  display:flex; 
  align-items:center; 
  justify-content:center;
  text-align:center;
  background:var(--abyss-navy-deep);            
  color:var(--white);
  font-family:"Arial Black", Impact, sans-serif;
  flex-direction:column;
  max-width: 1200px; 
  margin: 0 auto;  
}

/* when .app-main and .core-main are combined, don’t add the extra paddings */
.app-main.core-main {
  padding-top: 0;
  padding-bottom: 0;
}

.core-main {
  padding: 1rem;
  justify-content: flex-start;
  overflow-y: auto;
  position: fixed;
  top: var(--header-h);
  bottom: var(--footer-h);
  left: 0;
  right: 0;
  display: block;
  overflow:hidden;
}

/* Fill the fixed main area (subtract 1rem top + 1rem bottom padding) */
.core-main > .row {
  height: calc(100% );
  margin-left: 0; 
  margin-right: 0; /* keep the width stable */
}

.core-main .section-box {
  height: 100%;            /* fixed height inside the fixed main area */
  min-height: 100%;
  display: flex;
  flex-direction: column;
  overflow: auto;          /* scroll the content if it gets tall */
}

.section-box{
  background:#0d1a28;            /* same as modal card */
  border:1px solid rgba(255,255,255,.25);
  border-radius:12px;
  box-shadow:0 0 12px rgba(0,0,0,.45);
  padding:24px 28px;
  display:flex; flex-direction:column; gap:1rem;
  text-align: left;
}

.section-title{
  font-size:1.25rem;
  color:var(--cyan);
  margin:0;
}

.section-header {
  position: relative;
}

.icon-nav {
  height: 32px;
  width: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.7rem;
}

.admin-only-btn {
  display: none;
}

/* ---------- WALLET BUTTON ---------- */
.wallet-btn{
  background:var(--cyan); 
  color:var(--navy-text);   /* uses new colour */
  border:none; 
  border-radius:8px;
  font:600 16px/1 "Arial Black", Impact, sans-serif;
  padding:8px 16px; 
  cursor:pointer;
  width:180px;
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis;
}
.wallet-btn:hover{filter:brightness(1.1);}

/* ---------- MODAL ---------- */
.modal-overlay{
  position:fixed; 
  inset:0; 
  background:rgba(0,0,0,.6);
  display:none; 
  align-items:center; 
  justify-content:center;
  z-index: 3000;                     /* ← was missing: now higher than bars */
}
.modal-overlay.active{            
  display:flex;
}
.modal,
.modal-box{                                     /* ‹— also matches confirmModal  */
  background:#0d1a28;                          /* a touch lighter than page bg  */
  border:1px solid rgba(255,255,255,.25);      /* clearly visible subtle edge   */
  border-radius:12px;
  padding:24px 32px;
  max-width:90%;
  box-shadow:0 0 16px rgba(0,0,0,.6);          /* soft glow                     */
  text-align:center;
  color:#fff;
  font-family:sans-serif;
}
.modal-actions{
  margin-top:24px; 
  display:flex; 
  gap:24px; 
  justify-content:center;
}
.btn-small{
  padding:8px 18px; 
  border:none; 
  border-radius:6px;
  font-weight:600; 
  cursor:pointer;
}
.btn-alt{
  background:transparent; 
  color:var(--cyan);
}
.btn-small:not(.btn-alt)
{background:var(--cyan); 
  color:var(--abyss-navy-deep);
}

/* colour accents added by showAlert(type) */
.modal.info    { border-color:var(--info);    }
.modal.success { border-color:var(--success); }
.modal.warning { border-color:var(--warning); }
.modal.error   { border-color:var(--error);   }

#confirmModal {
  z-index: 3000 !important; /* Always on top exect for alert */
  position: fixed
}

#alertModal {
  z-index: 3001 !important; /* Always on top of confirm */
  position: fixed;
}


/* ---------- ICON COLOURS ---------- */
/* OLD – these lines don’t exist */

/* NEW – paste this near the bottom of your CSS, after the cyan-button helpers */
.text-cyan   { color:var(--cyan);   }
.text-info   { color:var(--info);   }
.text-success{ color:var(--success);}
.text-warning{ color:var(--warning);}
.text-error  { color:var(--error);  }

/* place the icon left of the title text and tint it automatically */
.modal-title{margin-bottom:16px;font-weight:700;}
.modal-title i{margin-right:.4em;}                 /* gap between icon & text  */
.modal.info    .modal-title i{ color:var(--info);    }
.modal.success .modal-title i{ color:var(--success); }
.modal.warning .modal-title i{ color:var(--warning); }
.modal.error   .modal-title i{ color:var(--error);   }

/* utility for show/hide (if not already present) */
.hidden{display:none!important;}

/* ---------- CYAN BUTTON HELPERS (add) ---------- */

/* solid cyan action button */
.btn-cyan{
  background:var(--cyan) !important;
  color:var(--navy-text) !important;
  border:none !important;
}
.btn-cyan:hover,
.btn-cyan:focus{ 
  filter:brightness(1.1); 
}

/* outline style for “Cancel” */
.btn-outline-cyan{
  background:transparent !important;
  color:var(--cyan) !important;
  border:1px solid var(--cyan) !important;
}
.btn-outline-cyan:hover,
.btn-outline-cyan:focus{
  background:var(--cyan) !important;
  color:var(--navy-text) !important;
}

/* ---------- reusable spinner & disabled-btn ---------- */
.spinner {
  width: 1.25rem;
  height: 1.25rem;
  border: 3px solid currentColor;
  border-right-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
  pointer-events: none;
  transition: opacity 0.25s ease;
  opacity: 1;
}

.spinner.fade {
  opacity: 0;
}

.spinner.fade.show {
  opacity: 1;
}

.fade-spinner {
  opacity: 0;
  transition: opacity 0.5s ease;
  pointer-events: none;
}

.fade-spinner.show {
  opacity: 1;
  pointer-events: auto;
}

.fade-spinner.hidden {
  display: none;
}

.d-none {
  display: none !important;
}

.btn-loading{
  position:relative;
  pointer-events:none;
}

/* keep label in normal flow but under spinner */
.btn-loading .label-loading{
  visibility:visible;
  z-index:1;
  position:relative;
  opacity:0.7;
}

@keyframes spin{to{transform:translate(-50%,-50%) rotate(360deg)}}

/* disabled button look */
button:disabled{
  opacity:.5!important;
  cursor:not-allowed!important;
}

/* ---------- mild highlight for failing inputs ---------- */
.field-invalid{
  border-color:#dc3545!important;
  box-shadow:0 0 0 .15rem rgba(220,53,69,.25);
}

#connectWalletBtn, #createMissionBtn{
  min-width: 160px; 
  position: relative;
} 

/* NEW – copy icon hover / size */
.copy-icon{
  cursor:pointer;
  font-size:0.9em;
  opacity:0.7;
  transition:opacity .15s;
}
.copy-wrap:hover .copy-icon{ opacity:1; }

/* ---------- FOOTER ---------- */
.app-footer {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: var(--footer-h);
  background: var(--abyss-navy-deep);
  z-index: 100;
  display: flex;
  align-items: center;
}

.app-footer .inner > * {
  margin-inline: 0.1rem; /* Equal horizontal spacing */
}

/* leaf at end */

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background: var(--abyss-navy-deep);
  z-index: -1;
}

/* ─────────────────────────────────────────────────────────────
   JOINABLE CARD – shared component (reusable across pages)
   Put this near the bottom of core.css
   ──────────────────────────────────────────────────────────── */

/* variables for card + progress */
:root{
  --card-bg: #0d1a28;
  --card-border: rgba(255,255,255,0.25);
  --text-muted-2: rgba(255,255,255,0.7);
  --progress-track: rgba(255,255,255,0.12);
  --progress-fill: var(--cyan);
}

/* click-able card */
.mission-card{
  background: var(--card-bg);
  border: 1px solid var(--card-border);
  border-radius: 12px;
  padding: 14px 16px;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease;
  text-align: left;
}
.mission-card:hover{ box-shadow: 0 0 0 1px var(--cyan), 0 0 18px rgba(0,0,0,.45); }
.mission-card:active{ transform: scale(.996); }

.mission-card .mini-row{
  display: flex;
  align-items: baseline;
}

.mission-card .mini-row .label{
  flex: 0 0 var(--mini-label-w);  /* fixed label width desktop*/
}

@media (max-width:768px){
  .mission-card .mini-row .label{
   flex: 0 0 var(--mini-label-w-m);  /* fixed label width mobile */
  }
}

.mission-card .mini-row .value{
  flex: 1 1 auto;                 /* value area expands, left-aligned */
}

/* top row: title on the left, rounds on the right */
.mission-head{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem;
}
.mission-title{
  display:flex; align-items:center; gap:.5rem;
  font-weight:700;
  font-size: clamp(16px, 4.5vw, 20px);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;  /* title ≤ 24 chars fits */
}
.mission-rounds{
  font-weight:600;
  white-space:nowrap;
  opacity:.9;
}

/* “small rows” under the title */
.mini-row{ margin-top:.35rem; display:flex; gap:.5rem; align-items:baseline; }
.mini-row .label{ color: var(--text-muted-2); font-size:.92rem; }

/* two facts side-by-side (Fee + Duration) */
.fact-row{
  display:grid; grid-template-columns: 1fr 1fr;
  gap:.5rem 1rem; margin-top:.5rem;
}
.fact-row .label{ color: var(--text-muted-2); font-size:.92rem; }
.fact-row .value{ font-weight:700; }

/* players line with slim progress bar */
.players-line{
  margin-top:.35rem;
  display:flex; align-items:center; justify-content:space-between;
}
.players-count{ font-weight:700; white-space:nowrap; }

/* color the current joined count later via JS (ok/low) */
.players-count .ok  { color: var(--success); }
.players-count .low { color: var(--error); }

.progress-slim{
  margin-top:.2rem; height:4px; background:var(--progress-track);
  border-radius: 3px; overflow:hidden;
}
.progress-slim > i{
  display:block; height:100%; width: var(--w,0%);
  background: var(--progress-fill);
}

/* --- status pill used across pages --- */
.status-pill{
  display:inline-block;
  padding:.15rem .5rem;
  border:1px solid rgba(255,255,255,.2);
  border-radius:999px;
  font-size:.85rem;
  line-height:1.1;
}

/* tint by status (uses existing color vars) */
.status-0, .status-1, .status-2 { color: var(--cyan);    }  /* Pending/Enrolling/Arming */
.status-3                       { color: var(--success); }  /* Active */
.status-4                       { color: var(--warning); }  /* Paused */
.status-5, .status-6            { color: var(--info);    }  /* PartlySuccess/Success */
.status-7                       { color: var(--error);   }  /* Failed */

.kv-grid{
  display: grid;
  grid-template-columns: var(--kv-label-w) 1fr var(--kv-label-w) 1fr;
  column-gap: .7rem;
  row-gap: .5rem;
}

.kv-grid .label{
  color: var(--text-muted-2, rgba(255,255,255,.7));
  font-size: .92rem;
  align-self: center;
}

.kv-grid .value{
  font-weight: 700;
  min-width: 0;           /* allow wrapping/ellipsis if you ever add it */
}

/* Safety: if screen gets very narrow, stack to one pair per row */
@media (max-width: 768px){
  .kv-grid{
    grid-template-columns: var(--kv-label-w) 1fr;
  }
}

.card-grid{
  display: grid;
  grid-template-columns: 1fr;           /* mobile: single column */
  gap: var(--card-grid-gap);
  padding: 0;                           /* good for <ul> */
  margin: 0;
  list-style: none;
}

/* wide screens (~≥1170px container -> two ~590px cards) */
@media (min-width: 992px){
  .card-grid{
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

/* make each card fill its grid cell */
.card-grid > li{
  width: 100%;
}
